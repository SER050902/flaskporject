{% extends 'base.html' %}

{% block navigation %}
    <a class="enlace" href="/">volver a index</a>
    <a class="enlace" href="/desarrollador">Desarrollador</a>
    <a class="enlace" href="/api/videojuegos">API JSON</a>
{% endblock %}

{% block contingut %}
    <h1>Videojuego</h1>
    <a class="enlace-add" href="{{ url_for('insert_videojuego') }}">ADD</a>
    <p></p>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Genero</th>
                <th>Modo</th>
                <th>Desarrollado</th>
                <th>Descripci√≥n</th>
                <th>Lanzamiento PC</th>
                <th>Lanzamiento PS4</th>
                <th>Lanzamiento PS5</th>
                <th>lanzamiento XBOX-S-X</th>
                <th>lanzamiento NS</th>
                <th>IMAGEN</th>
            </tr>
        </thead>
        <tbody>
            {% for videojuego in videojuegos %}
                <tr>
                    <td>{{ videojuego.idVi }}</td>
                    <td>{{ videojuego.nombre }}</td>
                    <td>{{ videojuego.genero }}</td>
                    <td>{{ videojuego.modo }}</td>
                    {% for desarrollador in videojuego.desarrolladores %}
                        {% if videojuego.desarrollado == desarrollador.idDe %}
                            <td>{{ desarrollador.nombre }}</td>
                        {% endif %}
                    {% endfor %}
                    <td>{{ videojuego.descripcion }}</td>
                    <td>{{ videojuego.lanzamiento_PC }}</td>
                    <td>{{ videojuego.lanzamiento_PS4 }}</td>
                    <td>{{ videojuego.lanzamiento_PS5 }}</td>
                    <td>{{ videojuego.lanzamiento_XBOX_S_X }}</td>
                    <td>{{ videojuego.lanzamiento_NS }}</td>
                    <td><img src="{{ videojuego.imagen_url }}" alt="Imagen del videojuego {{ videojuego.nombre }}"></td>
                    <td>
                        <a class="enlace-delete" href="/videojuego/{{ videojuego.idVi }}/delete" onclick="return confirm('Estas seguro?')">Eliminar</a>
                        <p></p>
                        <a class="enlace-modificar" href="/videojuego/{{ videojuego.idVi }}/modificar">Modificar</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
